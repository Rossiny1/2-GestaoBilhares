# ğŸ’¾ POLÃTICA DE BACKUP COMMITS - GestaoBilhares

## ğŸ¯ **OBJETIVO**
Garantir que **NUNCA** percamos cÃ³digo importante durante o desenvolvimento, criando pontos de restauraÃ§Ã£o seguros em cada evoluÃ§Ã£o significativa.

## âš¡ **QUANDO FAZER BACKUP COMMITS**

### **OBRIGATÃ“RIO (AutomÃ¡tico):**
- âœ… Antes de implementar nova tela/fragment
- âœ… ApÃ³s completar qualquer fase do projeto
- âœ… Antes de mudanÃ§as estruturais (Hilt, Navigation, Database)
- âœ… ApÃ³s correÃ§Ãµes crÃ­ticas de bugs
- âœ… Antes de refatoraÃ§Ãµes grandes
- âœ… Final de cada sessÃ£o de desenvolvimento

### **RECOMENDADO:**
- ğŸ”„ A cada 2-3 horas de desenvolvimento ativo
- ğŸ”„ Antes de experimentar soluÃ§Ãµes alternativas
- ğŸ”„ ApÃ³s implementar funcionalidade complexa
- ğŸ”„ Antes de merges ou pulls

## ğŸ“ **PADRÃƒO DE MENSAGENS DE COMMIT**

### **Backup Commits:**
```
ğŸ’¾ BACKUP COMMIT - [DescriÃ§Ã£o] - [Estado]

âœ… IMPLEMENTADO:
- [Lista do que foi implementado]

ğŸš§ EM PROGRESSO:
- [O que estÃ¡ sendo desenvolvido]

ğŸ“‹ PRÃ“XIMOS PASSOS:
- [PrÃ³ximas tarefas]

ğŸ’¡ Status: [Resumo do estado atual]
```

### **Exemplos:**
```bash
# Backup de fase completa
git commit -m "ğŸ’¾ BACKUP COMMIT - Fase 4A Completa - Fluxo principal funcional"

# Backup de implementaÃ§Ã£o crÃ­tica
git commit -m "ğŸ’¾ BACKUP COMMIT - ClientDetail implementado - NavegaÃ§Ã£o 90% funcional"

# Backup de seguranÃ§a antes de mudanÃ§a
git commit -m "ğŸ’¾ BACKUP COMMIT - Antes refatoraÃ§Ã£o Hilt - Estado estÃ¡vel"
```

## ğŸ”„ **COMANDOS AUTOMÃTICOS**

### **Script PowerShell para Backup RÃ¡pido:**
```powershell
# backup-rapido.ps1
param(
    [string]$mensagem = "Estado atual"
)

Write-Host "ğŸ’¾ Criando backup commit..." -ForegroundColor Green

# Add all changes
git add .

# Create backup commit with timestamp
$timestamp = Get-Date -Format "yyyy-MM-dd HH:mm"
$commitMessage = "ğŸ’¾ BACKUP COMMIT - $mensagem - $timestamp"

git commit -m $commitMessage

Write-Host "âœ… Backup criado: $commitMessage" -ForegroundColor Cyan
```

### **Uso do Script:**
```bash
# Backup rÃ¡pido
.\backup-rapido.ps1

# Backup com descriÃ§Ã£o
.\backup-rapido.ps1 -mensagem "Fase 4A implementada"
```

## ğŸ“Š **ESTRUTURA DE BRANCHES DE BACKUP**

### **Branches Principais:**
- `main` â†’ CÃ³digo estÃ¡vel e testado
- `development` â†’ Desenvolvimento ativo
- `backup/fase-4a` â†’ Backup especÃ­fico da fase
- `backup/stable-YYYY-MM-DD` â†’ Backups diÃ¡rios estÃ¡veis

### **CriaÃ§Ã£o de Branches de Backup:**
```bash
# Backup da fase atual
git checkout -b backup/fase-4a-$(date +%Y%m%d)
git push origin backup/fase-4a-$(date +%Y%m%d)

# Voltar para main
git checkout main
```

## ğŸš¨ **PROCEDIMENTO DE RECUPERAÃ‡ÃƒO**

### **Se algo der errado:**
```bash
# Ver histÃ³rico de commits
git log --oneline | head -10

# Voltar para commit especÃ­fico
git reset --hard [COMMIT_HASH]

# Ou criar nova branch a partir do backup
git checkout -b recuperacao [COMMIT_HASH]
```

### **RecuperaÃ§Ã£o de arquivo especÃ­fico:**
```bash
# Recuperar arquivo de commit anterior
git checkout [COMMIT_HASH] -- caminho/para/arquivo.kt
```

## ğŸ“‹ **CHECKLIST DE BACKUP**

### **Antes de cada backup:**
- [ ] CÃ³digo compila sem erros
- [ ] Funcionalidade bÃ¡sica testada
- [ ] Arquivos importantes incluÃ­dos
- [ ] Mensagem descritiva criada

### **Itens obrigatÃ³rios no backup:**
- [ ] Todos os arquivos `.kt` (cÃ³digo)
- [ ] Layouts `.xml` modificados
- [ ] Navigation graph atualizado
- [ ] Arquivos de configuraÃ§Ã£o (.mdc, settings)
- [ ] Dependencies (build.gradle)

## ğŸ¯ **AUTOMAÃ‡ÃƒO INTEGRADA**

### **AdiÃ§Ã£o Ã  PolÃ­tica de Testes:**
```bash
# ApÃ³s cada teste bem-sucedido
if (teste-passou) {
    criar-backup-commit
}
```

### **Hook no Git (opcional):**
```bash
# .git/hooks/pre-push
#!/bin/sh
echo "ğŸ” Verificando se hÃ¡ backup recente..."
# Verificar se Ãºltimo commit Ã© recente
# Se nÃ£o, sugerir backup
```

## ğŸ“ˆ **MÃ‰TRICAS DE BACKUP**

### **Metas:**
- ğŸ¯ **Backup a cada 3h** de desenvolvimento
- ğŸ¯ **0 perda de cÃ³digo** durante o projeto
- ğŸ¯ **RecuperaÃ§Ã£o em < 5min** se necessÃ¡rio
- ğŸ¯ **HistÃ³rico completo** de evoluÃ§Ã£o

### **Tracking:**
- ğŸ“Š Backups por dia: [X]
- ğŸ“Š Ãšltimo backup: [timestamp]
- ğŸ“Š Commits desde Ãºltimo backup: [X]

---

## ğŸš€ **IMPLEMENTAÃ‡ÃƒO IMEDIATA**

### **PrÃ³ximos Backups Programados:**
1. **Agora:** ApÃ³s completar polÃ­tica âœ…
2. **Em 2h:** ApÃ³s finalizar Fase 4A
3. **DiÃ¡rio:** 18:00 (fim do expediente)
4. **Por fase:** Cada milestone do projeto

### **Scripts Criados:**
- âœ… `backup-rapido.ps1` â†’ Backup automÃ¡tico
- âœ… IntegraÃ§Ã£o com polÃ­tica de testes
- âœ… PadrÃµes de mensagem definidos

**ğŸ”¥ NUNCA MAIS PERDEREMOS CÃ“DIGO!** ğŸ’¾
